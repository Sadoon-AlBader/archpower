# POWER Maintainer: Alexander Baldeck <alex.bldck@gmail.com>
# Maintainer: Jan Alexander Steffens (heftig) <jan.steffens@gmail.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-i18n
pkgver=78.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=(any)
license=(MPL GPL LGPL)
url="https://www.mozilla.org/firefox/"

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca-valencia "Catalan (Valencian)"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-CA  "English (Canadian)"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'ia     "Interlingua"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mk     "Macedonian"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'my     "Burmese"'
  'nb-NO  "Norwegian (BokmÃ¥l)"'
  'ne-NP  "Nepali"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'oc     "Occitan"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tl     "Tagalog"'
  'tr     "Turkish"'
  'trs    "Chicahuaxtla Triqui"'
  'uk     "Ukrainian"'
  'ur     "Urdu"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
md5sums=('f84e027e4e4b2134887472c10360fc8f'
         '7a34fa47776debf9b99f63722a7fdaff'
         'c05654cdf7ab1c10a42f167a38f86e7c'
         '6bbbcb706fa82971ad02ed35fe84521f'
         '30e326122074338ed843c38f11649799'
         'f5aeacaae023f62c0edb504197ff3769'
         '3f231670c9f8512dbea43f0ea14f4123'
         '9a7c49214c3787be03b7815c648b4eeb'
         '2e8621967ea4c998c3d15441fea524e1'
         '4532e56bc2479ccbf48fb67a5cb20540'
         '1fe147d2252ca9dde2046cf86dc80447'
         'b77a531f075b7e5c285722dc5113fc49'
         '4b46337b31b3d47cbd696a07ccfa1fc0'
         'd681f7b30e8a656364bb19836a1e2bf6'
         '2f13f71f09016caf81c23cdd2e64289e'
         'b10eb7b6fb88a9bf57a1ee208f412e75'
         '01f3d06fc46aff57861d35f34f6919b0'
         'd2f0f1889b7fea158cf877605a3f4af0'
         'c608f8750ad80bb0e994972d51fa6732'
         '33221096b305d4dd02a22c5c848e69ee'
         'a53b1f77a888a4ec456a3fa14f3cbb73'
         'cab17a0d591a1893aa248909cb8c7fae'
         '92f82f71691de383a31cc2b99ffd316e'
         '343fe8f286d4152b30401fc1981b46e8'
         'b4255971262b2335e567b37d4298a303'
         '7a9eac668565862c34d5617004d09c1a'
         'f9915700190dece739553f8d973acf78'
         'e83a3656af71353d8ca4c02783ba1ff5'
         '83b880bc084fa178b619540bb3de6c32'
         '8ef5921f7e89b282b71a1afe3789d73a'
         '5516111dd916d97890aafd618c74c9e0'
         'd16e5c18a096df734495a07466d401e5'
         '01298ba0d712bc7e7838bb09a1577094'
         '65cbc78b78cf00fa93aec58f9ea1eff8'
         '71d9427ef72f1f81fe94e1d339616cd2'
         'c592c42c1c234432f4df444aa00cd2eb'
         'd73e98268bdd9bb8cc585d6163fd2ef2'
         'b6af63aab9dd021f21d7c5c5bf239ad4'
         '7663cbd97a0935bbd7b955ace548f4f5'
         '31bf12416df52180b89233ec76a74842'
         '5ca7a721f761b6bcae10b53b5d3cbc34'
         '42a5e853a10bd0026feb1bc021394a5d'
         '3efa81ce39fa2bbef4903cef5e817697'
         '901943d398456ca6687d47102e1fe4cd'
         'b4b67159f957907683429bb1c423a3ab'
         '3d442114f204c0739c9ce00919bf3de7'
         'ab65864780e5ef77fd10d5f1575b8a44'
         'b648cfab3e48923f7bf6ac9d2de5fc95'
         '5c7a07bc46b619cf5bc952925cb9c192'
         '61a224a6a8e8de1a456998bc458d70e3'
         '27d4b391cf856f2dd9265f94139a9fa8'
         '78472f51fac4070c1ed556fc071f4c4f'
         '3eaef85a76fa755f168d83bb358c3345'
         '69fe9cc267f890ac1fabfd43b3ccce76'
         '69673056a03d0cac7e9c8d5b37f2b928'
         '575233e6aa4d09b57b96b05a6c5ede20'
         'faefb29da347814f79e2eaae46a60852'
         'dc200e7ca78227463da42affe1f183c9'
         '4231ad8e41698fb572af912e8628a888'
         'c1ee420c8f1bd9460ad055c6cc9f2793'
         '8493947d52ef833d1ea843f59334dd72'
         'ec16c394fbcd33321b1c71c5e5481e5a'
         'b18662f0495ade7d03ecd79702bbee16'
         'f2f7ef1e2d8bc948958e187c02a64391'
         '5cbaecf7ec3b636b63f5fd3a8e72686e'
         'e6ad3280c06c5e69eb1c492e3f44512b'
         '0c07a3823222905ad812cacd5f8a1a65'
         'd9952af3a9a6786aabe0159ea53f53f0'
         '6a55011e1189ee74a12f35d23c40106b'
         '74bce03e4f95d0a0e1d7cd04a737a5e0'
         '2e4ea6d4c9e711cbfd3af3a4cfa269c3'
         '1264a15a2c91db2761e6c939124dab8c'
         'a0256e55724cfb522d5553edf32474d9'
         '53c16847b2ea9f5a93ff93638898cee6'
         '45d0197445e8bf0edb5bf833f0eae8ce'
         'c3e14f17b5cad3495d8f165e05d81821'
         '3c7ec02f11bb3be36e578823f5e7eda1'
         '869f00eb73bd6ce1c064e4dfba532687'
         '81349c8e4dc65922ef23b2e86d594444'
         '415b557d422cd8aa36a9e1832b2f9f16'
         '20e6e91c1126612b912c3013a5ab6001'
         '1aa7720e63d6cd31365561fa4af37db5'
         '2ab6f6a198130b126305c35c8cfad9ea'
         '0d6ad760f9a7e71f262e526dbaf2efdf'
         '4cd85b7d75b2819c182aba146dc53c19'
         '4f1081df3fa581a5c3f50bdc652a75fa'
         '12d59e4bfa1c9bc7a3a7307c4fa5daa1'
         'cf3111d4961e7cb75541bd0ab5f1c3db'
         'ff6bd494b17b931e9c422fa6a05620d5'
         '789673ed6058c8392fd1de9d1a7cc33f'
         'd8dba8ccb9dea39222025b36bfe4f9f3'
         'cc80ca8126c64b0a6d08b3f61d384ba3'
         '70574866049639095e4b593543d90745'
         '905e66696ff1b19c72a07244e192a9b2'
         'aa12cc26847ac002dd0435e7dcd8f8b2'
         '3837f29330593e310a87a9daa36157d5')
