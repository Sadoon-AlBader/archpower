# POWER Maintainer: Alexander Baldeck <alex.bldck@gmail.com>
# Maintainer: Mike Roll <scaryspiderpig@gmail.com>

pkgname=nvidia-texture-tools
pkgver=2.1.1
pkgrel=1
pkgdesc="Texture processing tools with support for Direct3D 10 and 11 formats"
arch=(x86_64 powerpc64le)
url="https://github.com/castano/nvidia-texture-tools"
license=('MIT')
depends=('libpng' 'libjpeg' 'libtiff' 'openexr')
makedepends=('cmake')
source=("git+https://github.com/castano/nvidia-texture-tools.git#tag=${pkgver}")
        
md5sums=('SKIP')

prepare() {
  cd "${srcdir}/${pkgname}"
  git cherry-pick -n 95454e902420547bc74079f2742c69be44678650
}

build() {
  cd "${srcdir}/${pkgname}"
  cmake .
  make
}

package() {
  cd ${srcdir}/${pkgname}
  make DESTDIR=${pkgdir} install
}
